# ============================================
# KS WATCHDOGS - Environment Variables
# ============================================
# Copy this file to .env and fill in the values

# --- General ---
TIMEZONE=Europe/Lisbon

# --- App ---
APP_ENV=dev
APP_PORT=8000

# --- Database ---
DATABASE_URL=sqlite:///./database/database.sqlite

# --- JWT ---
JWT_SECRET=your-secure-jwt-secret-here
JWT_EXPIRE_MIN=60
JWT_REFRESH_EXPIRE_MIN=43200

# ============================================
# PRESTASHOP CONFIGURATION
# ============================================

# --- Base ---
PS_BASE_URL=https://www.your-domain.com
PS_TIMEOUT_S=15
PS_API_KEY=your-prestashop-api-key
PS_USER_AGENT=watchdog/1.0

# --- Auth (login via PrestaShop) ---
PS_AUTH_VALIDATE=https://your-domain.com/__watchdogs/login.php
PS_GENESYS_KEY=your-genesys-api-key
PS_AUTH_VERIFY_SSL=true

# --- Payments Monitoring ---
PS_CHECK_PAYMENT_URL=https://www.your-domain.com/__watchdogs/check_payments.php
PS_PAYMENTS_WARNING_HOURS=48
PS_PAYMENTS_CRITICAL_HOURS=72

# --- Orders Delayed Monitoring ---
PS_CHECK_ORDERS_URL=https://www.your-domain.com/__watchdogs/check_orders.php
PS_ORDERS_WARN_DS_STD=2
PS_ORDERS_CRIT_DS_STD=3
PS_ORDERS_WARN_DS_DROPSHIP=3
PS_ORDERS_CRIT_DS_DROPSHIP=5

# --- EOL Products Monitoring ---
PS_CHECK_EOL_PRODUCTS=https://www.your-domain.com/__watchdogs/check_eol_products.php
PS_EOL_WARN_DAYS=60
PS_EOL_CRIT_DAYS=90

# --- PageSpeed Monitoring ---
PS_HOME_URL=https://www.your-domain.com/pt/
PS_PRODUCT_URL=https://www.your-domain.com/pt/category/product-example.html
PS_PAGESPEED_JSONLD_IS_CRITICAL=false
PS_PAGESPEED_IGNORE_SANITY_WARNINGS=true
PS_PAGESPEED_IGNORE_WARN_KEYS=["title_ok","meta_desc_ok","h1_ok","canonical_ok","blocking_scripts_in_head"]
# HOME thresholds (ms/bytes)
PS_PAGESPEED_HOME_TTFB_WARN=2100
PS_PAGESPEED_HOME_TTFB_CRIT=2600
PS_PAGESPEED_HOME_TOTAL_WARN=2000
PS_PAGESPEED_HOME_TOTAL_CRIT=3000
PS_PAGESPEED_HOME_HTML_WARN=450000
PS_PAGESPEED_HOME_HTML_CRIT=900000
# PRODUCT thresholds (ms/bytes)
PS_PAGESPEED_PRODUCT_TTFB_WARN=350
PS_PAGESPEED_PRODUCT_TTFB_CRIT=800
PS_PAGESPEED_PRODUCT_TOTAL_WARN=1000
PS_PAGESPEED_PRODUCT_TOTAL_CRIT=2000
PS_PAGESPEED_PRODUCT_HTML_WARN=320000
PS_PAGESPEED_PRODUCT_HTML_CRIT=900000

# --- Abandoned Carts Monitoring ---
PS_CHECK_CARTS_STALE_URL=https://www.your-domain.com/__watchdogs/carts_stale.php
PS_CART_STALE_MAX_DAYS=7
PS_CART_STALE_MIN_ITEMS=1
PS_CART_STALE_WARN_H=6
PS_CART_STALE_CRIT_H=12
PS_CART_STALE_LIMIT=50

# --- KPI Employees ---
PS_KPI_EMP_TIMESERIES_URL=https://www.your-domain.com/__watchdogs/kpi_employee_timeseries.php
PS_KPI_EMP_PERFORMANCE_URL=https://www.your-domain.com/__watchdogs/kpi_employee_performance.php

# --- Front Invoice Audit ---
FRONT_INVOICE_AUDIT_BASE_URL=https://www.your-domain.com/custom/frontInvoiceAudit/get-audits.php

# ============================================
# TOOLS CONFIGURATION
# ============================================

# --- PDA (FastLogix) ---
TOOLS_PDA_API_KEY=your-pda-api-key
TOOLS_PDA_GET_REPORTS=https://www.your-domain.com/__fastLogixApi/reports/api/getReports.php
TOOLS_PDA_UPDATE_REPORT=https://www.your-domain.com/__fastLogixApi/reports/api/updateReport.php

# --- PATIFE ---
PATIFE_HEALTHZ=https://your-patife-domain.com/api/healthz